@using Microsoft.AspNetCore.Identity
@using Model
@inject SignInManager<Usuario> SignInManager

@model IEnumerable<Model.Produto>

@{
    ViewData["Title"] = "Cardápio CoffeeCode";
}

<div class="container mt-5">
    <div class="d-flex justify-content-between align-items-center mb-4 p-4 bg-dark text-white rounded-3 shadow">
        <div>
            <h1 class="display-6 fw-bold mb-0"><i class="bi bi-cup-hot"></i> CoffeeCode</h1>
            <p class="mb-0 opacity-75 text-warning">Nosso Cardápio</p>
        </div>

        @if (SignInManager.IsSignedIn(User))
        {
            <a asp-action="Novo" class="btn btn-warning btn-lg fw-bold shadow-sm">
                <i class="bi bi-plus-circle-dotted"></i> Novo Item
            </a>
        }
    </div>

    @if (Model != null && Model.Any())
    {
        <div class="card shadow border-0">
            <div class="card-body p-0">
                <table class="table table-hover table-striped align-middle mb-0">
                    <thead class="bg-light">
                        <tr>
                            <th class="ps-4 py-3 text-muted">Item</th>
                            <th class="py-3 text-muted">Preço</th>
                            <th class="py-3 text-muted">Status</th>
                            <th class="text-end pe-4 py-3 text-muted">Opções</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td class="ps-4 fw-bold text-dark fs-5">@item.Nome</td>
                                <td class="fw-bold text-success">@item.Preco.ToString("C2")</td>
                                <td>
                                    @if (item.Status)
                                    {
                                        <span class="badge bg-success rounded-pill px-3">Disponível</span>
                                    }
                                    else
                                    {

                                        <span class="badge bg-secondary rounded-pill px-3">Esgotado</span>
                                    }
                                </td>
                                <td class="text-end pe-4">
                                    <a asp-action="Detalhes" asp-route-id="@item.Id" class="btn btn-outline-dark btn-sm">
                                        <i class="bi bi-eye-fill"></i> Ver Detalhes
                                    </a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    }
    else
    {
        <div class="text-center py-5">
            <h3 class="text-muted">Nenhum produto cadastrado.</h3>
        </div>
    }
</div>